\begin{exm}
  \label{exm:quantumMechanics}  
  In classical mechanics, a physical quantity
  such as position, momentum, or energy
  is represented by a tuple of real numbers
  and thus the variable lies in $\mathbb{R}^n$
  where $n$ is a fixed positive integer.
  In comparison,
  a physical quantity in quantum mechanics 
  is represented by an \emph{observable},
  a self-adjoint linear operator acting on some Hilbert space.
  An \emph{eigenstate} of an observable
  is an eigenvector of the operator
  and a \emph{quantum state} of an observable
  is a linear combination of the eigenstates,
  known as \emph{quantum superposition}.
  The time evolution of a quantum state
  is governed by the \emph{Schrodinger equation}. 
  When an observable is measured by an experiment, 
  the result will be an eigenvalue of the quantum state
  with probability given by the Born rule.
  After the measurement,
  the quantum state is postulated, in the nondegenerate case,
  to \emph{collapse} to the eigenvector that corresponds
  to the observed eigenvalue.
  Due to the probabilistic nature stemming from measurements,
   a quantum state cannot be described by
   a finite degree of freedoms
   and thus does not lie in any finite-dimensional spaces.

  The aforementioned postulations of quantum mechanics
   come from the need to reconcile
   the contradiction of classical mechanics
   to real-world phenomena
   such as the double-slit experiment. 
  Historically, quantum mechanics has been a major driving force
   behind the development of functional analysis, 
   which is no exception to the fact
   that mathematics is developed
   for the bare necessity to understand the world.
\end{exm}

\begin{exm}
  \label{exm:funcAnalExm}
  A copper mining company mines in a mountain
  that has an estimated total amount of $Q$ tonnes of copper.
  Let $x(t)$ denote the amount of copper
  removed during the period $[0,t]$,
  with $x(0)=0$ and $x(T)=Q$.
  Assume $x$ is a continuous function $[0,T]\rightarrow \mathbb{R}$
  and the cost of extracting copper per unit tonne at time $t$ is
  \begin{equation}
    \label{eq:funcAnalExm}
    c(t) = a x(t) + bx'(t),    
  \end{equation}
  where $a,b\in \mathbb{R}^+$.
  What is the optimal mining operation $x(t)$
  that minimizes the cost function
  \begin{displaymath}
    f(x) = \int_0^T (ax(t)+bx'(t))x'(t)\dif t? 
  \end{displaymath}
  In math terms, we would like to minimize
  $f: {\cal C}^1_Q[0,T]\rightarrow \mathbb{R}^+$
  where ${\cal C}^1_Q[0,T]$ is the set
  of continuously differentiable functions
  $x: [0,T]\rightarrow \mathbb{R}$
  satisfying $x(0)=0$ and $x(T)=Q$.

  In calculus, the minimizer $x_*$
  of a function $f\in C^2$  is usually found
  by the condition $f'(x_*)=0$ and $f''(x_*)>0$.
  However, the above problem does not fit into
  the usual framework of calculus,
  since $x$ is not a number but a function
  that belongs to an infinite-dimensional
  function space.
  Solving this problem requires a number of techniques
  in functional analysis.
\end{exm}

\begin{defn}
  \label{def:metric}
  A \emph{metric} on a set ${\cal X}$ is a function
   $d:{\cal X}\times{\cal X}\rightarrow [0,+\infty)$
   that satisfies, for all $x,y,z\in {\cal X}$, 
   \begin{enumerate}[(1)]\itemsep0em
   \item non-negativity: $d(x,y)\ge 0$;
   \item identity of indiscernibles: $x=y$ $\Leftrightarrow$ $d(x,y)=0$;
   \item symmetry: $d(x,y)=d(y,x)$;
   \item triangle inequality: $d(x,z)\le d(x,y)+d(y,z)$.
   \end{enumerate}
  A \emph{pseudometric} is a function
   that satisfies (1), (3), and (4). 
\end{defn}

\begin{exm}
  \label{exm:discreteMetric}
  The function
  \begin{equation}
    \label{eq:discreteMetric}
    d(x,y)=
    \begin{cases}
      1 & \text{if } x\ne y,
      \\
      0 & \text{if } x= y
    \end{cases}
  \end{equation}
   is a metric called the \emph{discrete metric}.
\end{exm}

\begin{exc}
  Let ${\cal X}$ be the set of all bounded and unbounded sequences
  of complex numbers. Show that the function $d$ given by
  \begin{equation}
    \label{eq:complexSequenceMetric}
    \forall x=(\xi_j),\ \forall y=(\eta_j),\ \ 
    d(x,y) = \sum_{j=1}^{\infty} \frac{1}{2^j}
    \frac{|\xi_j-\eta_j|}{1+|\xi_j-\eta_j|}
  \end{equation}
  is a metric on ${\cal X}$.
\end{exc}

\begin{defn}
  \label{def:metricSpace}
  A \emph{metric space} is an ordered pair $({\cal X}, d)$
  where ${\cal X}$ is a set and $d$ is a metric on ${\cal X}$.
\end{defn}

\begin{exm}
  \label{exm:continuousMapMetricSpace}
  Denote by ${\cal C}[a,b]$
  the set of bounded continuous functions
  $[a,b]\rightarrow \mathbb{R}$.
  The metric space 
  \begin{equation}
    \label{eq:CabMetricSpace}
    ({\cal C}[a,b],d) \text{ with }
    d(x,y)=\sup_{t\in[a,b]}|x(t)-y(t)|
  \end{equation}
  was heavily studied
  in the early history of functional analysis
  and serves as an excellent pedagogical device
  for many important concepts. 
  Here $d$ is called a \emph{uniform metric}.
\end{exm}

\begin{ntn}
  For a metric space $({\cal X},d_{{\cal X}})$,
  sometimes we use the notation
  \begin{equation}
    \label{eq:distanceNotation}
    |u-v|_{{\cal X}} := d_{{\cal X}}(u,v).
  \end{equation}
\end{ntn}

\begin{defn}
  \label{def:openBallMetricSpace}
  In a metric space $({\cal X},d)$,
  an \emph{open ball} $B_r(x)$ centered at $x\in {\cal X}$
  with radius $r$ is the point set
  \begin{equation}
    \label{eq:openBallMetricSpace}
    B_r(x) := \left\{y\in {\cal X}: d(x,y)<r\right\}.
  \end{equation}
\end{defn}

\section{Complete metric spaces}
\label{sec:compl-conv}

\subsection{Completeness for Cauchy sequences}
\label{sec:completenessCauchySeq}

\begin{defn}
  \label{def:convergenceOfSequenceMetricSpace}
  A sequence $(x_n)_{n\in\mathbb{N}}$ in a metric space ${\cal X}$
  is said to \emph{converge} in ${\cal X}$ iff
  \begin{equation}
    \label{eq:convergenceOfSequenceMetricSpace}
    \exists L\in{\cal X},\ 
    \forall \epsilon>0,\ \exists N\in \mathbb{N}, \text{ s.t. }\ 
    \forall n>N, \ |x_n-L|_{\cal X} < \epsilon,
  \end{equation}
  where $L:=\lim_{n\rightarrow\infty} x_n$
  is called the \emph{limit} of the sequence.
\end{defn}

\begin{defn}
  \label{def:CauchySeqMetricSpace}
  A \emph{Cauchy sequence in a metric space} $({\cal X},d)$
  is a sequence $(x_n)\subset {\cal X}$ satisfying
  \begin{equation}
    \label{eq:CauchySeqMetricSpace}
    \forall \epsilon>0, \exists N\in\mathbb{N} \text{ s.t. }
    m,n > N\ \Rightarrow\ d(x_m,x_n) <\epsilon.
  \end{equation}
\end{defn}

\begin{lem}
  \label{lem:convergentSeqIsCauchyMetric}
  Convergent sequences in a metric space are Cauchy.
\end{lem}

\begin{defn}
  \label{def:completeMetricSpace}  
  A metric space ${\cal X}$ is \emph{complete} iff
  every Cauchy sequence in ${\cal X}$ converges
  to an element in ${\cal X}$.
\end{defn}

\begin{exm}[$\mathbb{Q}$ is not complete]
  \label{exm:QisNotComplete}
  The sequence %$(x_n)_{n\in \mathbb{N}^+}$
  \begin{equation}
    \label{eq:rationalSeqCauchy}
    x_1=\frac{3}{2};\quad
    \forall n>1,\ x_{n} = \frac{4 + 3 x_{n-1}}{3 + 2 x_{n-1}}
  \end{equation}
  is bounded below by $\sqrt{2}$
  and is monotonically decreasing.
  By Theorem \ref{thm:boundedMonotoneSeqIsConvergent},
  $(x_n)$ is convergent in $\mathbb{R}$.
  However, although $(x_n)$ is Cauchy in $\mathbb{Q}$,
  it is not convergent in $\mathbb{Q}$ because
  \begin{displaymath}
    L = \frac{4+3L}{3+2L} \ \Rightarrow\ 
    L=\sqrt{2}.
  \end{displaymath}
\end{exm}

\begin{exm}
  The sequence $(\sum_{k=1}^n\frac{1}{k^k})_{n\in\mathbb{N}}$
  is Cauchy, 
  but we do not know yet
  whether the limit is rational or irrational.
\end{exm}

\begin{lem}
  \label{lem:CabMetricSpace}
  The metric space (\ref{eq:CabMetricSpace}) is complete.
\end{lem}

\begin{exc}
  The completeness depends on the metric.
  For the metric 
  $d_1(x,y)=\int_a^b|x(t)-y(t)|\,\dif t$,
  show that the metric space $({\cal C}[a,b],d_1)$
  is not complete.
\end{exc}

\subsection{Dense subsets and separable spaces}
\label{sec:dense-subsets}

\begin{defn}
  \label{def:denseSetMetricSpace}
  A subset $A$ in a metric space ${\cal X}$
  is \emph{dense} in another subset $E\subseteq {\cal X}$
  iff
  \begin{equation}
    \label{eq:denseSet}
    \forall u\in E, \forall \epsilon>0, \exists v\in A
    \text{ s.t. } |v-u|_{\cal X} < \epsilon.
  \end{equation}
\end{defn}

\begin{exm}
  \label{exm:QisDenseInR}
  $\mathbb{Q}$ is a dense subset of $\mathbb{R}$
  and $\mathbb{R}$ is the completion of $\mathbb{Q}$:
  each element of $\mathbb{R}$ is constructed
  as an equivalence class of Cauchy sequences of rational numbers.
\end{exm}

\begin{exm}
  \label{exm:CantorSetRemovedDense}
  The set $[0,1]\setminus C$ is dense in $[0,1]$
  where $C=\cap_{n\in \mathbb{N}^+} C_n$ is the Cantor set
  in Definition \ref{def:CantorSet}.
  Indeed, by construction $C_n$ has $2^{n}$ subintervals,
  each of which is of length $\frac{1}{3^n}$.
  Thus we have
  \begin{displaymath}
    \forall x\in C,\ \forall \epsilon\in (0,1),\
    \exists y\in [0,1]\setminus C \text{ s.t. }
    |x-y|<\epsilon,
  \end{displaymath}
  where $y$ is obtained by first calculating
  $N=\lceil \log\frac{1}{\epsilon}\rceil+1$
  and then choose any $y\in C_N\setminus C_{N+1}$.
\end{exm}

\begin{defn}
  \label{def:Boundedness}
  A subset $M$ of a metric space $({\cal X},d)$
  is \emph{bounded} iff
  \begin{equation}
    \label{eq:bounded}
    \exists x\in{\cal X}, \exists r\in \mathbb{R}^+
    \text{ s.t. } M \subseteq B_r(x).
  \end{equation}
  The \emph{diameter} of a bounded set $M$ is
  \begin{equation}
    \label{eq:diameter}
    \text{diam } M := \sup\{d(x,y): x,y\in M\}.
  \end{equation}
\end{defn}

\begin{defn}
  \label{def:epsNet}
  The \emph{$\epsilon$-net} of a set $M$ in a metric space $({\cal X},d)$
  is a subset $N\subset {\cal X}$ satisfying
  \begin{equation}
    \label{eq:epsNet}
    \forall x\in M,\ \exists y\in N \text{ s.t. }
    d(x,y)<\epsilon. 
  \end{equation}
  In particular,
  $N$ is a \emph{finite $\epsilon$-net} of $M$
  if $N$ is a finite set.
\end{defn}

\begin{exm}
  For any $\epsilon>0$,
  the set $\epsilon\mathbb{N}^+$
  is a $\epsilon$-net of $\mathbb{R}^+$
  in $\mathbb{R}$.
\end{exm}

\begin{exm}
  \label{exm:finiteEpsNet01}
  For any $\epsilon\in(0,1]$,
  the interval $M=(0,1]$ in $\mathbb{R}$
  has a finite $\epsilon$-net 
  $N:=\{i\epsilon: i=1,\ldots,\lfloor\frac{1}{\epsilon}\rfloor\}$.
\end{exm}

\begin{defn}
  \label{def:totalBoundedness}
  A subset $M$ of a metric space $({\cal X},d)$
  is \emph{totally bounded} or \emph{precompact} iff
  it has a finite $\epsilon$-net
  for every $\epsilon>0$. 
\end{defn}

\begin{exm}
  The interval $M=(0,1]$ in Example
  \ref{exm:finiteEpsNet01} is totally bounded in $\mathbb{R}$.
  Why? 
\end{exm}

\begin{lem}
  \label{lem:totalBoundedImpliesBounded}
  A totally bounded set is bounded. 
\end{lem}

\begin{exm}
  For the metric space $(\mathbb{Z},d)$
  with $d$ as the discrete metric in (\ref{eq:discreteMetric}),
  no finite $\epsilon$-net with $\epsilon<1$
  exists for $\mathbb{N}^+$:
  each open ball only contains the center
  and thus no finite set of open balls
  can cover the infinite set $\mathbb{N}^+$.
\end{exm}

\begin{defn}
  \label{def:separableMetricSpace}
  A set in a metric space is \emph{separable}
  iff it has a countable dense subset.
\end{defn}

\begin{lem}
  A totally bounded metric space is separable.
\end{lem}

\subsection{Completion via isometry}
\label{sec:compl-via-isom}

\begin{defn}
  \label{def:isometryMetricSpace}
  An \emph{isometry} is a function $f: {\cal X}\rightarrow{\cal Y}$
  between metric spaces $({\cal X}, d_{{\cal X}})$
  and $({\cal Y}, d_{{\cal Y}})$
  such that
  \begin{equation}
    \label{eq:isometryMetricSpace}
    \forall u,v\in {\cal X},\quad
    d_{{\cal Y}}(f(u),f(v)) = d_{{\cal X}}(u,v).
  \end{equation}
\end{defn}

\begin{defn}
  \label{def:isometricIsomorphism}
  A \emph{global isometry} or \emph{isometric isomorphism}
  or \emph{congruence mapping}
  is a bijective isometry
  as in Definition \ref{def:isometryMetricSpace}.
  Two metric spaces $({\cal X}, d_{{\cal X}})$
  and $({\cal Y}, d_{{\cal Y}})$
  are \emph{isomorphic} if there exists
  a global isometry between them.
\end{defn}

\begin{defn}
  \label{def:subspaceMetric}
  A subset ${\cal X}\subseteq {\cal Y}$
  is a \emph{subspace} of the metric space
  $({\cal Y}, d_{{\cal Y}})$ iff
  $({\cal X}, d_{{\cal Y}})$ is a metric space itself.
\end{defn}

\begin{defn}
  \label{def:isometricEmbedding}
  An \emph{isometric embedding of
  a metric space} $({\cal X}, d_{{\cal X}})$
  in another metric space
  $({\cal Y}, d_{{\cal Y}})$
  is a map $f: {\cal X}\rightarrow {\cal Y}$
  such that the map $f': {\cal X}\rightarrow f({\cal X})$
  obtained by restricting the codomain to $f({\cal X})$
  is a global isometry.
\end{defn}

\begin{defn}
  \label{def:completionMetricSpace}
  The \emph{completion of a metric space} $({\cal X}, d)$ 
  is the intersection of all complete metric spaces
  that contain $({\cal X}, d)$ as a subspace.
\end{defn}

\begin{lem}
  \label{lem:denseCompletion}
  Suppose that $({\cal X}, d)$ is a dense subspace
  of a complete metric space $({\cal X}_1, d_1)$
  with $d_1|_{{\cal X}\times{\cal X}} = d$.
  Then $({\cal X}_1, d_1)$ is the completion of $({\cal X}, d)$.
\end{lem}

\begin{thm}
  \label{thm:existenceOfMetricCompletion}
  Every metric space has a completion.
\end{thm}

\begin{exm}
  \label{exm:polynomialDenseInCab}
  By Theorem \ref{thm:WeierstrassApproximation}, 
  the set of polynomials $\mathbb{P}[a,b]$
  is a dense subset of the metric space \eqref{eq:CabMetricSpace}, 
  which is the completion of $\mathbb{P}[a,b]$.
\end{exm}

\subsection{Sequence spaces}
\label{sec:metric-spaces-basicAnal}

\begin{defn}
  \label{def:lInftySeqSpace}
  The $\ell^{\infty}$ \emph{sequence space} 
  is a metric space $(\ell^{\infty},d)$,
  where $\ell^{\infty}$ is the set of all bounded sequences
  of complex numbers,
  \begin{equation}
    \label{eq:ellInftySpace}
    \ell^{\infty} := \left\{
      (\xi_1, \xi_2, \ldots):
      \text{ s.t. } \sup_{i}|\xi_i| < \infty
      \right\}
  \end{equation}
  and the metric is given by
  $d(x,y) = \sup_{i}|\xi_i- \eta_i|$, 
  where both $x=(\xi_j)$ and $y=(\eta_j)$ are in $\ell^{\infty}$. 
\end{defn}

\begin{defn}
  \label{def:lpSpace}
  For a real number $p\ge 1$,
   the \emph{$\ell^p$ sequence space} is the metric space $(\ell^p, d)$
   with
  \begin{align}
    \label{eq:lpSpace}
    \ell^p &:= \left\{
               (\xi_j)_{j=1}^{\infty}: \xi_j\in \mathbb{C};
               \sum_{j=1}^{\infty} |\xi_j|^p < \infty
    \right\};
    \\
    \label{eq:lpMetric}
    d(x,y) &= \left(\sum_{j=1}^{\infty} |\xi_j -\eta_j|^p\right)^{1/p},
  \end{align}             
  where $x=(\xi_j)$ and $y=(\eta_j)$ are both in $\ell^p$.
  In particular, the \emph{Hilbert sequence space} $\ell^2$
   is the $\ell^p$ space with $p=2$.
\end{defn}

\begin{exc}
  \label{exc:ellPisComplete}
  Show that the $\ell^p$ space in Definition \ref{def:lpSpace}
  is complete for $p\ge 1$.
\end{exc}

\begin{ntn}
  \label{ntn:zeroSequenceSpaces}
  Denote by $c_{00}$ the space of all sequences
  that are eventually 0,
  $c_0$ the space of \emph{null sequence}s,
  i.e., the space of all sequences that converge to 0,
  and $c$ the space of all sequences that converge.
\end{ntn}

\begin{lem}
  \label{lem:filtrationOfSequenceSpaces}
  The sequence spaces in Notation \ref{ntn:zeroSequenceSpaces}
  and Definitions \ref{def:lInftySeqSpace} and \ref{def:lpSpace}
  satisfy
  \begin{equation}
    \label{eq:filtrationOfSequenceSpaces}
    c_{00} \subset \ell^1 \subset \ell^p  \subset \ell^q  
     \subset c_0 \subset c \subset \ell^{\infty},
  \end{equation}
  where $1<p<q<\infty$. 
\end{lem}

\begin{exc}
  \label{exc:c00isDenseInEll2}
  Show that the sequence space $c_{00}$
  in Notation \ref{ntn:zeroSequenceSpaces}
  is a dense subset of $\ell^p$
  in Definition \ref{def:lpSpace} with $p\in[1,\infty)$. 
\end{exc}

\begin{lem}
  \label{lem:ellInftyisNotSeparable}
  $\ell^{\infty}$ in Definition \ref{def:lInftySeqSpace} is not separable.
\end{lem}

\begin{lem}
  \label{lem:ellPisSeparable}
  $\ell^p$ in Definition \ref{def:lpSpace} 
  is separable for all $p\in[1,\infty)$.
\end{lem}

\section{Basic metric topology}
\label{sec:metric-topology}

\subsection{Open sets and closed sets}
\label{sec:open-sets-closed}

\begin{defn}
  \label{def:interiorPoint}
  A point $p\in E$ is an \emph{interior point} of $E\subset {\cal X}$
  iff there exists $r>0$ such that $B_r(p)\subset E$.
  The \emph{interior of a set} $E$
  is the set of its interior points.
\end{defn}

\begin{defn}
  \label{def:openSetInMetricSpace}
  A subset $U$ of a metric space is \emph{open} iff
  every point $x\in U$ is an interior point of $U$, i.e., 
  \begin{displaymath}
    \forall x\in U, \exists r>0 \text{ s.t. }
    B_r(x)\subset U.
  \end{displaymath}
\end{defn}

\begin{exm}
  \label{exm:invertibleOpSetIsOpen}
  By Lemma \ref{lem:invertibleBfromA},
  the set of invertible linear operators is open
  in ${\cal L}(\mathbb{R}^n)$.
\end{exm}

\begin{defn}
  \label{def:closedSets}
  A subset $E$ of a metric space ${\cal X}$ is \emph{closed}
  iff its complement $E^c:={\cal X}\setminus E$ is open.
\end{defn}

\begin{exc}
  Show that $\emptyset$ and ${\cal X}$
  are both open and closed.
\end{exc}

\begin{lem}
  \label{lem:intersectionOpenSets}
  The intersection of two open sets is open.
\end{lem}

\begin{lem}
  \label{lem:unionClosedSets}
  The union of two closed sets is closed.
\end{lem}

\begin{exc}
  \label{exc:meagerSetComplementIsDense}
  If a closed set $F$ in a metric space ${\cal X}$
  does not contain any open set,
  then ${\cal X}\setminus F$ is dense in ${\cal X}$.
\end{exc}

\subsection{Limit points and closure}
\label{sec:limit-points-conv}

\begin{defn}
  \label{def:closurePointInMetricSpace}
  Let $({\cal X},d)$ be a metric space.
  A point $x_0\in {\cal X}$ is %an \emph{adherent point} or 
  a \emph{point of closure} of $E\subset {\cal X}$
  or a \emph{closure point} or a \emph{contact point}
  iff
  \begin{equation}
    \label{eq:closurePoint}
    \forall r>0, \ E\cap B_r(x_0) \ne \emptyset.
  \end{equation}
\end{defn}

\begin{exm}
  Any point in the set
   \begin{equation}
     \label{eq:K-Set}
     K=\left\{\frac{1}{n}: n\in \mathbb{Z}^+\right\}
   \end{equation}
   is a closure point of $K$,
   so is 0.
\end{exm}

\begin{defn}
  \label{def:limitPointMetricSpace}
  In a metric space ${\cal X}$, a point $x$ 
   is an \emph{accumulation point}
   or a \emph{limit point} of $A\subseteq {\cal X}$ iff
  \begin{equation}
    \label{eq:accumulationPointMetricSpace}
    \forall r>0,\ \left(B_r(x)\setminus\{x\}\right)\cap A
    \ne \emptyset. 
  \end{equation}
\end{defn}

\begin{lem}
  \label{lem:limitPointImpliesConvergence}
  For any limit point $x$ of $E\subseteq {\cal X}$,
  there exists a sequence in $E\setminus \{x\}$
  that converges to $x$ in ${\cal X}$.
\end{lem}

\begin{exm}
  Every point in an open set $U$ is a limit point of $U$. 
\end{exm}

\begin{exm}
  The only limit point of the set $K$ in (\ref{eq:K-Set}) is 0.
\end{exm}

\begin{exm}
  Each number in $\mathbb{R}$ 
   is a limit point of $\mathbb{Q}$.
\end{exm}

\begin{lem}
  \label{lem:denseSet}
  In a metric space ${\cal X}$,
  a set $A\subseteq {\cal X}$ is dense
  in another set $E\subseteq{\cal X}$
  if and only if %$A\subseteq X\subseteq \overline{A}$.
  each point of $E$ is a point in $A$
  or a limit point of $A$ or both.
\end{lem}

\begin{defn}
  A point $x$ in a metric space ${\cal X}$
   is an \emph{isolated point} of $A\subseteq {\cal X}$ iff
  \begin{equation}
    \label{eq:isolatedPointMetricSpace}
    \exists r>0 \text{ s.t. } \left(B_r(x)\setminus\{x\}\right)\cap A
    = \emptyset. 
  \end{equation}
\end{defn}

\begin{defn}
  \label{def:perfectSets}
  A subset $E$ of a metric space is \emph{perfect}
  iff $E$ is closed and every point of $E$
  is a limit point of $E$.
\end{defn}

\begin{lem}
  \label{lem:closedSetsContainsAllLimitPoints}
  A subset of a metric space is closed
  if and only if it contains all of its limit points.
\end{lem}

\begin{coro}
  \label{coro:closedSubsetIsComplete}
  A closed subset of a metric space ${\cal X}$
  form a complete subspace of ${\cal X}$.
\end{coro}

\begin{defn}
  \label{def:closureInMetricSpace}
  In a metric space, 
  the \emph{closure} of a subset $A$,
  written $\overline{A}$,
  is the union of $A$ with the set of all limit points of $A$. 
\end{defn}

\begin{lem}
  \label{lem:closureIsClosed}
  The closure of a subset $A\subset{\cal X}$ is closed.
\end{lem}

\begin{coro}
  \label{coro:closureBeingSmallest}
  $\overline{A}$ is the smallest closed set containing $A$, 
  i.e., the intersection of all closed sets containing $A$.
\end{coro}

\begin{coro}
  \label{coro:closedFromClosure}
  A subset $A$ of a metric space is closed
  if and only if $A=\overline{A}$.
\end{coro}

\begin{coro}
  \label{coro:closureIdempotence}
  For any subset $A\subset {\cal X}$,
  we have $\overline{\overline{A}}=\overline{A}$. 
\end{coro}

\begin{coro}
  \label{coro:closurePreserveSubset}
  The subset relation is preserved by taking closure, 
  i.e., $A\subset E$ implies $\overline{A}\subset \overline{E}$.
\end{coro}

\subsection{Closed sets and convergence}
\label{sec:clos-sets-conv}

\begin{lem}
  \label{lem:converge2cases}
  Any convergent sequence $(x_n)\subset{\cal X}$ with $\lim_n x_n =x$
  either has countably infinite images whose (single) limit point is
  $x$, 
  or, is eventually equal to $x$.
\end{lem}

\begin{lem}
  \label{lem:closedSetConvergence}
  A subset $E$ of a metric space ${\cal X}$ is closed
  if and only if any sequence $(x_n)\subset E$
  that converges in ${\cal X}$ also converges in $E$.
\end{lem}

\subsection{The Baire category theorem}

\begin{defn}
  \label{def:nowhereDense}
  A subset of a metric space is \emph{nowhere dense}
  if the interior of its closure is an empty set.
\end{defn}

\begin{exm}
  The Cantor set in Definition \ref{def:CantorSet}
  is nowhere dense in the metric space $([0,1],|\cdot|)$.
\end{exm}

\begin{defn}
  \label{def:metricSpaceFirstCat}
  A subset of a metric space is of \emph{the first category}
  if it is contained in the countable union of nowhere dense sets.
\end{defn}

\begin{thm}[Baire category]
  \label{thm:BaireCat}
  In a complete metric space ${\cal X}$,
  the intersection of countably many open dense sets is dense in ${\cal X}$.
\end{thm}

\begin{coro}
  \label{coro:BaireCat}
  A complete metric space ${\cal X}$ is 
  not the union of countably many nowhere dense sets $(U_n)$.
\end{coro}

\begin{defn}
  A \emph{Baire space} is a topological space ${\cal X}$
  in which every countable intersection of open dense sets
  is dense in ${\cal X}$.
\end{defn}

\section{Continuous functions}
\label{sec:continuous-functions-metricSpaces}

\subsection{Pointwise continuity}
\label{sec:pointwise-continuity}

\begin{defn}
  \label{def:continuousFuncPointMetricSpace}
  A function $f: {\cal X} \rightarrow {\cal Y}$
  between metric spaces $({\cal X},d_{\cal X})$
  and $({\cal Y}, d_{\cal Y})$
  is \emph{continuous} at $x\in{\cal X}$ iff 
  any sequence with $\lim_{n\rightarrow \infty}x_n = x$
  implies the existence of $\lim_{n\rightarrow \infty}f(x_n)$, 
  i.e., 
  \begin{align}
    \label{eq:continuousFuncPointMetricSpace}
    \forall \epsilon>0,\ &\exists \delta>0\, \text{ s.t. }
    \forall x_n \in {\cal X}, \ \
    \\ \nonumber
                         &d_{\cal X}(x,x_n)<\delta\ \Rightarrow\
                           d_{\cal Y}(f(x),f(x_n))<\epsilon. 
  \end{align}
\end{defn}

\begin{lem}
  \label{lem:pointContinuityBall}
  A function $f: {\cal X} \rightarrow {\cal Y}$
  between metric spaces $({\cal X},d_{\cal X})$
  and $({\cal Y}, d_{\cal Y})$
  is continuous at $x\in{\cal X}$ iff 
  \begin{equation}
    \label{eq:pointContinuityBall}
    \forall \epsilon > 0, \ \exists \delta>0 \text{ s.t. }
    f(B_{\delta}(x)) \subset B_{\epsilon}(f(x)).
  \end{equation}
\end{lem}

\begin{defn}
  \label{def:continuousFuncMetricSpace}
  A function $f: {\cal X} \rightarrow {\cal Y}$
  between metric spaces $({\cal X},d_{\cal X})$
  and $({\cal Y}, d_{\cal Y})$
  is (pointwise) \emph{continuous}
  iff it is continuous at all $x\in{\cal X}$,
  i.e., 
  \begin{align}
    \label{eq:continuousFuncMetricSpace}
    \forall \epsilon>0,\ \forall x\in {\cal X},\ 
    & \exists \delta>0\, \text{ s.t. }
    \forall y \in {\cal X},\ \
    \\ \nonumber
    &d_{\cal X}(x,y)<\delta\ \Rightarrow\ d_{\cal Y}(f(x),f(y))<\epsilon
  \end{align}
\end{defn}

\begin{thm}[Continuous extension at a limit point]
  \label{thm:continuousExtPoint}
  Consider a continuous function $f: E \rightarrow {\cal Y}$ 
  that maps a subset $E$ of a metric space ${\cal X}$
  to a complete metric space ${\cal Y}$.
  Suppose, at a limit point $x\in {\cal X}$ of $E$ with $x\not\in E$, 
  the sequence $(f(x_n))\subset {\cal Y}$ is Cauchy
  for any Cauchy sequence $(x_n)\subset E$ that converges to $x$. 
  Then $f$ can be uniquely extended to a continuous function
  $F: E\cup\{x\}\rightarrow {\cal Y}$ such that
  $F|_{E} = f$.
\end{thm}

\begin{thm}
  \label{thm:contMapOpenPreimage}
  A map $f:{\cal X}\rightarrow {\cal Y}$ between metric spaces
  is (pointwise) continuous if and only if
  the preimage $f^{-1}(V)$ of any open set $V$ in ${\cal Y}$
  is open in ${\cal X}$.
\end{thm}

\begin{thm}
  \label{thm:contMapConditions}
  For a map $f:{\cal X}\rightarrow {\cal Y}$ between metric spaces,
  the following conditions are equivalent:
  \begin{enumerate}[(a)]\itemsep0em
  \item $f^{-1}(V)$ is open in ${\cal X}$ for any open set $V$ in ${\cal Y}$.
  \item $\forall A\subseteq {\cal X}$,
    $f(\overline{A})\subseteq \overline{f(A)}$.
  \item $\forall E\subseteq {\cal Y}$,
    $\overline{f^{-1}(E)}\subseteq f^{-1}(\overline{E})$, 
  \item $f^{-1}(V)$ is closed in ${\cal X}$
    for any closed set $V$ in ${\cal Y}$,
  \item $f$ is continuous. 
  \end{enumerate}
\end{thm}

\begin{lem}
  \label{lem:compositionMapIsContinuous}
  If $f:{\cal X}\rightarrow {\cal Y}$ and $g:{\cal Y}\rightarrow Z$
  are continuous functions between metric spaces,
  then the composition map $g\circ f: {\cal X}\rightarrow Z$
  is continuous.
\end{lem}

\begin{lem}
  \label{lem:elementaryMapIsContinuousNF}
  For continuous functions $f,g:{\cal X}\rightarrow\mathbb{F}^n$ 
  where $\mathbb{F}=\mathbb{R}$ or $\mathbb{C}$, 
  the functions $cf$, $f+g$, $f-g$, and $|f|$
  are continuous for any $c\in\mathbb{F}$.
  In particular, 
  \begin{enumerate}[(a)]\itemsep0em
  \item $\frac{1}{f}$ is continuous for $n=1$;
  \item both $\max\{f,g\}$ and $\min\{f,g\}$
    are continuous for $n=1$ and $\mathbb{F}=\mathbb{R}$;
  \item $\bar{f}$, the complex conjugate of $f$, is continuous
    for $n=1$ and $\mathbb{F}=\mathbb{C}$. 
  \end{enumerate}
\end{lem}

\begin{lem}
  \label{lem:funcInverseIsContinuous}
  For the set ${\cal B}(\mathbb{R}^n)^{-1}\subset
  {\cal L}(\mathbb{R}^n)$
  of invertible linear operators equipped
  with the operator norm in Definition \ref{def:operatorNorm},
  the inverse function 
  $f: {\cal B}(\mathbb{R}^n)^{-1}\rightarrow
  {\cal B}(\mathbb{R}^n)^{-1}$ 
  given by $f(A) = A^{-1}$ is continuous
  in the sense of Definition \ref{def:continuousFuncPointMetricSpace}.
\end{lem}

\begin{defn}
  \label{def:openMap}
  A map $f:{\cal X}\rightarrow {\cal Y}$ between metric spaces is \emph{open}
  if its image of any open set is open; 
  it is \emph{closed} if its image of any closed set is closed. 
\end{defn}

\subsection{Separation properties of metric spaces}
\label{sec:separ-prop}

\begin{defn}
  \label{def:distPointAndSet}
  In a metric space $({\cal X},d)$, 
  the \emph{distance between a nonempty set $A\subset {\cal X}$
    and a point $x\in {\cal X}$}
  is
  \begin{equation}
    \label{eq:distPointAndSet}
    \rho(x,A) := \inf_{y\in A} d(x,y).
  \end{equation}
\end{defn}

\begin{lem}
  \label{lem:distPointAndSetContinuous}
  For any subset $A$ of a metric space ${\cal X}$,
  the function $f: {\cal X}\rightarrow \mathbb{R}$
  given by $f(x):= \rho(x,A)$ is continuous.
\end{lem}

\begin{coro}
  \label{coro:metricContinuous}
  For any point $y$ of a metric space $({\cal X},d)$,
  the function $f: {\cal X}\rightarrow \mathbb{R}$
  given by $f(x):= d(x,y)$ is continuous.
\end{coro}

\begin{coro}
  \label{coro:closedBallIsClosed}
  In a metric space $({\cal X},d)$,
  the closed ball $\{x\in{\cal X}: d(x,y)\le r\}$
  is a closed set for any $y\in {\cal X}$ and $r\in\mathbb{R}^+$.
\end{coro}

\begin{lem}
  \label{lem:defineClosureFromDistance}
  Any nonempty subset $A$ of a metric space $({\cal X},d)$
  satisfies $\overline{A}=\{x\in{\cal X}: \rho(x,A)=0\}$.
\end{lem}

\begin{lem}
  \label{lem:separateClosedSets}
  For any two disjoint closed sets $E$ and $F$
  in a metric space ${\cal X}$,
  there exists a continuous function $f:{\cal X}\rightarrow [0,1]$
  such that $f(E)=\{0\}$ and $f(F)=\{1\}$.
\end{lem}

\begin{coro}
  \label{coro:metricSpaceIsNormal}
  A metric space ${\cal X}$ is \emph{normal},
  i.e.
  for any two disjoint closed subsets $E,F$ of ${\cal X}$,
  there exist disjoint open sets $U,V$
  such that $E\subset U$ and $F\subset V$.
\end{coro}

\begin{coro}
  \label{coro:metricSpaceIsT1}
  A metric space ${\cal X}$ is \emph{T1},
  i.e., every one point subset of $X$ is closed.
\end{coro}

\begin{coro}
  \label{coro:metricSpaceIsRegular}
  A metric space ${\cal X}$ is \emph{regular},
  i.e., 
  for any closed set $E$ of ${\cal X}$
  and any point $x\in{\cal X}$ with $x\not\in E$
  there exist disjoint open sets $U,V$
  such that $E\subset U$ and $x\in V$.
\end{coro}

\begin{coro}
  \label{coro:metricSpaceIsT2}
  A metric space ${\cal X}$ is \emph{Hausdorff} or \emph{T2},
  i.e., 
  for any two disjoint points $x,y$ in ${\cal X}$,
  there exist disjoint open sets $U,V$
  such that $x\in U$ and $y\in V$.
\end{coro}

\subsection{Homeomorphisms}
\label{sec:homeomorphisms}

\begin{defn}
  A \emph{homeomorphism} $f:{\cal X}\rightarrow {\cal Y}$
  between metric spaces
  is a bijective map such that both $f$ and $f^{-1}$
  are continuous.
  Two spaces ${\cal X}$ and ${\cal Y}$
  are said to be \emph{homeomorphic}
  if there exists a homeomorphism between them.
\end{defn}

\begin{lem}
  \label{lem:homeomorphismIsOpenAndClosed}
  A homeomorphism is both open and closed.
\end{lem}

\begin{defn}
  \label{def:topologicalProperty}
  A \emph{topological property} of a metric space ${\cal X}$
  is a property of ${\cal X}$
  that can be expressed entirely in terms of
  the open sets of ${\cal X}$.
\end{defn}

\begin{coro}
  A homeomorphism $f:{\cal X}\rightarrow {\cal Y}$
  preserves all topological properties of ${\cal X}$,
\end{coro}

\begin{defn}
  A \emph{(topological) embedding} of ${\cal X}$ in ${\cal Y}$
  is an injective map $f:{\cal X}\rightarrow{\cal Y}$
  such that the map $f':{\cal X}\rightarrow f({\cal X})$
  obtained by restricting the codomain of $f$ to $f({\cal X})$
  is a homeomorphism.
\end{defn}

\subsection{Uniform continuity}

\begin{defn}
  \label{def:uniformlyContinuousMetricSpace}
  A function $f: {\cal X} \rightarrow {\cal Y}$ between
  metric spaces $({\cal X},d_{\cal X})$ and $({\cal Y}, d_{\cal Y})$ 
  is \emph{uniformly continuous}
  iff
  \begin{align}
    \label{eq:uniformlyContinuousMetricSpace}
    \forall \epsilon>0,\
    & \exists \delta>0\, \text{ s.t. }
      \forall x,y \in {\cal X},\ \
    \\ \nonumber
    &d_{\cal X}(x,y)<\delta\ \Rightarrow\ d_{\cal Y}(f(x),f(y))<\epsilon.
  \end{align}
\end{defn}

\begin{exm}
  \label{exm:identityUniformlyCont}
  Let $d_1$ and $d_2$ denote the metrics
  induced from the operator norm and the Hilbert-Schmidt norm
  in Definitions \ref{def:operatorNorm} and
  \ref{def:HilbertSchmidtNorm}, respectively.
  By Theorem \ref{thm:opNormAndHSnorm}
  and Definition \ref{def:uniformlyContinuousMetricSpace}, 
  the identity map
  \begin{equation}
    \label{eq:identityUniformlyCont}
    I: \left({\cal L}(\mathbb{F}^n,\mathbb{F}^m), d_1\right)
    \rightarrow
    \left({\cal L}(\mathbb{F}^n,\mathbb{F}^m), d_2\right)
  \end{equation}
  is uniformly continuous and has a uniformly continuous inverse.
\end{exm}

\begin{thm}[Continuous extension]
  \label{thm:continuousExt}
  A uniformly continuous function $f: E \rightarrow {\cal Y}$ 
  that maps a dense subset $E$ of a metric space ${\cal X}$
  to a complete metric space ${\cal Y}$
  can be uniquely extended to a continuous function
  $F: {\cal X}\rightarrow {\cal Y}$ such that
  $F|_{E} = f$.
\end{thm}

\begin{defn}
  \label{def:continuousExt}
  The function $F$ in Theorem \ref{thm:continuousExt}
  is called the continuous extension of $f:E\rightarrow {\cal Y}$
  to the completion of $E$.
\end{defn}

\begin{defn}
  \label{def:CantorFunction}
  The \emph{Cantor function} $F:[0,1]\rightarrow[0,1]$
  is given by two steps.
  First, we define $f:[0,1]\setminus C \rightarrow[0,1]$
  as
  \begin{enumerate}[(a)]\itemsep0em
  \item %$\forall x\in [0,1]\setminus C_1$,
    $f([0,1]\setminus C_1)=\frac{1}{2}$,
  \item $f(I_{n,i})=\frac{2i-1}{2^{n+1}}$
    for each $i=1,\ldots,2^n$
    where $I_{n,i}$ is one of the $2^{n}$ closed intervals
    of $C_n$ in ascending order.
  \end{enumerate}
  Second, $F$ is the continuous extension of $f$
  to $[0,1]$. 
\end{defn}

\begin{exc}
  \label{exc:CantorFuncWellDefined}
  Show that the Cantor function $F$
  is indeed well defined
  by proving the uniform continuity
  of $f$ in Definition \ref{def:CantorFunction}.
  Prove that $F$ is monotonically increasing.
  Plot the graph of $F$
  on $[0,1]\setminus C_n$ for $n=5$. 
  What are the values of $F(0)$ and $F(1)$?
\end{exc}

\subsection{Equicontinuity}

\begin{defn}
  \label{def:equcontinuity}
  Let $E\subset{\cal X}$ denote a subset
  of a metric space ${\cal X}$.
  A family of scalar functions
  ${\cal F}:=\{E\mapsto \mathbb{C}\}$
  is \emph{equicontinuous} on $E$
  iff
  \begin{equation}
    \label{eq:equcontinuity}
    \begin{array}{{rl}}
    \forall \epsilon>0, &\exists \delta>0 \text{ s.t. }
    \forall f\in{\cal F},\ \forall x,y\in E,\ \\
      &d_{\cal X}(x,y)<\delta\ \Rightarrow\ |f(x)-f(y)|<\epsilon.
    \end{array}
  \end{equation}
\end{defn}

\subsection{Lipschitz continuity}
\label{sec:lipschitz-continuity}

\begin{defn}
  \label{def:LipschitzContinuityMetricSpaces}
  A function $f: {\cal X} \rightarrow {\cal Y}$ between
  metric spaces $({\cal X},d_{\cal X})$ and $({\cal Y}, d_{\cal Y})$ 
  is \emph{Lipschitz continuous} iff
  \begin{equation}
    \label{eq:LipschitzContinuityMetricSpaces}
    \exists L>0\, \text{ s.t. }
     \forall x,y \in {\cal X}, \ \ 
    d_{\cal Y}(f(x),f(y)) < L d_{\cal X}(x,y). 
  \end{equation}
\end{defn}

\begin{exc}
  What is the connection between the logical statements
  in (\ref{eq:uniformlyContinuousMetricSpace})
  and (\ref{eq:LipschitzContinuityMetricSpaces})? 
\end{exc}

\begin{thm}[Vector mean value]
  \label{thm:vectorMeanValue}
  Suppose a continuous function $\mathbf{f}: [a,b]\rightarrow \mathbb{R}^m$
  is differentiable on $(a,b)$. Then 
  \begin{equation}
    \label{eq:vectorMeanValue}
    \exists x\in(a,b) \text{ s.t. }
    |\mathbf{f}(b)-\mathbf{f}(a)|\le (b-a)|\mathbf{f}'(x)|.
  \end{equation}
\end{thm}

\begin{defn}
  \label{def:starShapedSet}
  A subset $S\subset \mathbb{R}^n$ is \emph{star-shaped} with
  respect to a point $\mathbf{p}\in S$ if for each $\mathbf{x}\in S$
  the line segment from $\mathbf{p}$ to $\mathbf{x}$ lies in $S$.
\end{defn}

\begin{thm}
  \label{thm:meanValueVectorSimilar}
  For a continuously differentiable function
  $\mathbf{f}: S\rightarrow \mathbb{R}^m$
  where $S\subset \mathbb{R}^n$
  is star-shaped with respect to $\mathbf{p}=(p_1,p_2,\ldots,p_n)\in S$, 
  there exist continuous functions
  $\mathbf{g}_1(\mathbf{x}),
  \mathbf{g}_2(\mathbf{x}), \ldots, \mathbf{g}_n(\mathbf{x})$
  such that
  $\mathbf{g}_j(\mathbf{p}) = \frac{\partial \mathbf{f}}{\partial x_j}(\mathbf{p})$
  and 
  \begin{equation}
    \label{eq:meanValueVectorSimilar}
    \mathbf{f}(\mathbf{x}) = \mathbf{f}(\mathbf{p})
    + \sum_{j=1}^n(x_j-p_j) \mathbf{g}_j(\mathbf{x}). 
  \end{equation}
\end{thm}

\begin{thm}
  \label{thm:C1impliesLipschitzContinuity}
  Consider a differentiable function
  $\mathbf{f}: E\rightarrow \mathbb{R}^m$
  where $E\subset \mathbb{R}^n$ is a convex open set.
  Suppose there exists $L>0$ such that
  $\forall \mathbf{x}\in E$, $\|\mathbf{f}'(\mathbf{x})\|\le L$.
  Then
  \begin{equation}
    \label{eq:C1impliesLipschitzContinuity}
    \forall \mathbf{a}\in E,\ \mathbf{b}\in E,\quad
    |\mathbf{f}(\mathbf{b})-\mathbf{f}(\mathbf{a})|
    \le L |\mathbf{b}-\mathbf{a}|. 
  \end{equation}
\end{thm}

\subsection{The Banach fixed point theorem}
\label{sec:banach-fixed-point}

\begin{defn}
  \label{def:contractionMetricSpace}
  A function $f:{\cal X}\rightarrow {\cal X}$
  on a metric space $({\cal X},d)$
  is \emph{contractive} iff
  \begin{equation}
    \label{eq:contractionMetricSpace}
    \exists \alpha\in(0,1) \text{ s.t. }
    \forall x,y\in {\cal X}, \ \ 
    d(f(x),f(y)) \le \alpha d(x,y).
  \end{equation}
\end{defn}

\begin{thm}[Banach fixed point]
  \label{thm:fixedPointMetricSpace}
  A contractive mapping $f:{\cal X}\rightarrow {\cal X}$
  on a complete metric space $({\cal X},d)$, 
  as in Definition \ref{def:contractionMetricSpace}, 
  has a unique fixed point $x=f(x)\in {\cal X}$.
\end{thm}

\begin{exm}
  Theorem \ref{thm:fixedPointMetricSpace}
  can be used to prove the fundamental theorem of ODEs
  (Theorem \ref{thm:FundamentalThoeremODEs}). 
\end{exm}

\subsection{The inverse function theorem
  and the implicit function theorem}

\begin{thm}[Inverse function]
  \label{thm:inverseFunc}
  Consider a function $\mathbf{f}: E\rightarrow \mathbb{R}^n$
  with $E\subset \mathbb{R}^n$ being an open subset.
  Suppose
  \begin{enumerate}[(i)]\itemsep0em
  \item $\mathbf{f}\in {\cal C}^1(E)$,
  \item $\exists\mathbf{a}\in E$ s. t.
    $\det|\mathbf{f}'(\mathbf{a})|\ne 0$.
  \end{enumerate}
  Then we have
  \begin{enumerate}[(a)]\itemsep0em
  \item there exist open sets $U\subset E$ such that
    $\mathbf{a}\in U$, %$\mathbf{b}:=\mathbf{f}(\mathbf{a})\in V$,
    $\mathbf{f}$ is injective on $U$,
    and $V:=\mathbf{f}(U)$ is open.
  \item $\exists \mathbf{g}\in {\cal C}^1(V,U)$ s.t. 
    $\forall \mathbf{x}\in U$, $\mathbf{g}(\mathbf{f}(\mathbf{x}))=\mathbf{x}$, 
    and
    \begin{equation}
      \label{eq:inverseFuncDeriv}
      \forall \mathbf{y}\in V,\quad
      \mathbf{g}'(\mathbf{y}) = [\mathbf{f}'(\mathbf{g}(\mathbf{y}))]^{-1}.
    \end{equation}
  \end{enumerate}
\end{thm}

\begin{thm}[Implicit function theorem]
  \label{thm:implicitFunction}
  For a function $\mathbf{g}:
  \mathbb{R}^n\times \mathbb{R}^m\to \mathbb{R}^m$,
  suppose there exist
  $U\times V\subset \mathbb{R}^n\times \mathbb{R}^m$
  and $(\mathbf{x}_0, \mathbf{y}_0)\in U\times V$
  such that
  \begin{enumerate}[(i)]\itemsep0em
  \item $\mathbf{g}(\mathbf{x}_0, \mathbf{y}_0)=\mathbf{0}$; 
  \item $\det\left|\frac{\partial \mathbf{g}}{\partial
        \mathbf{y}}(\mathbf{x}_0, \mathbf{y}_0)\right|\ne 0$;
  \item $\mathbf{g}\in {\cal C}^1(U\times V)$.
  \end{enumerate}
  Then there exists an open set $U_0\times V_0\subset U\times V$
  with $(\mathbf{x}_0,\mathbf{y}_0)\in U_0\times V_0$ such that
  \begin{enumerate}[(a)]\itemsep0em
  \item $\forall \mathbf{x}\in U_0$, $\exists! \mathbf{y}\in V_0$ s.t.
    $\mathbf{g}(\mathbf{x}, \mathbf{y})=\mathbf{0}$; 
  \end{enumerate}
  the function $\mathbf{f}: U_0\to V_0$ given by
  $\mathbf{f}(\mathbf{x}) := \mathbf{y}$ in (a) satisfies
  \begin{enumerate}[(b)]\itemsep0em
  \item $\mathbf{f}\in{\cal C}^1(U_0)$ and
    $\mathbf{f}'=-[\frac{\partial g_i}{\partial y_j}]^{-1}
    [\frac{\partial g_i}{\partial x_j}]$.
  \end{enumerate}
  For $p>1$, we have $\mathbf{f}\in{\cal C}^p(U_0)$ if
  $\mathbf{g}\in {\cal C}^p(U\times V)$.
\end{thm}

\section{Sequential compactness}
\label{sec:sequentialCompactness}

\begin{defn}
  \label{def:sequentialCompactness}
  A subset $K$ of a metric space $({\cal X},d)$
  is \emph{sequentially compact}
  if every sequence $(x_n)_{n\in \mathbb{N}^+}\subset K$ has
  a convergent subsequence that converges in $K$, i.e., 
  \begin{equation}
    \label{eq:sequentialCompactness}
    \forall (x_n)\subset K,\
    \exists k: \mathbb{N}\rightarrow \mathbb{N},\ \exists L\in K
    \text{ s.t. }
    \lim_{n\rightarrow +\infty} d(x_{k(n)}, L)=0, 
  \end{equation}
  where the function $k$ is monotonically increasing. 
\end{defn}

\begin{lem}
  \label{lem:CauchySeqInCompactMetric}
  In a sequentially compact metric space ${\cal X}$,   
  any Cauchy sequence converges in ${\cal X}$.
\end{lem}

\begin{coro}
  \label{coro:compactnessImpliesCompleteness}
  Any sequentially compact metric space is complete.
\end{coro}

\begin{lem}
  \label{lem:compactSetsIsClosedAndBounded}
  A sequentially compact subset $K$ of a metric space ${\cal X}$
  is closed and bounded.
\end{lem}

\subsection{In finite-dimensional metric spaces}

\begin{exm}
  Any interval $[a,b]$ is sequentially compact in $\mathbb{R}$.
  Indeed, any sequence in $[a,b]$
  is bounded, and by the Bolzano-Weierstrass theorem
  \ref{thm:Bolzano-Weierstrass}
  it has a convergent subsequence,
  of which the limit must be in $[a,b]$, 
  thanks to the completeness of $\mathbb{R}$
  in Theorem \ref{thm:completenessOfRealNumbers}.
\end{exm}

\begin{exm}
  $(a,b)$ is not sequentially compact
  since the sequence
  $\left(a+\frac{b-a}{2n}\right)_{n\in \mathbb{N}^+}$
  is contained in $(a,b)$,
  but its limit $a$ is not contained in $(a,b)$.
\end{exm}

\begin{exm}
  $\mathbb{R}$ is not sequentially compact
  because the sequence $(n)_{n\in\mathbb{N}}$ in $\mathbb{R}$
  cannot have a convergent subsequence: 
  the distance between any two terms on any subsequence is at least 1.
\end{exm}

\begin{lem}
  \label{lem:boundedSeqInRnHasConvergentSubseq}
  Every bounded sequence in $\mathbb{R}^n$
  has a convergent subsequence.
\end{lem}

\begin{lem}
  \label{lem:CauchySeqConvergesInRn}
  A Cauchy sequence in $\mathbb{R}^n$ converges in $\mathbb{R}^n$.
\end{lem}

\begin{thm}
  \label{thm:seqCompactIsBoundedAndClosedInRn}
  A subset $K$ of $\mathbb{R}^n$ is sequentially compact
  if and only if $K$ is closed and bounded.
\end{thm}

\begin{exm}
  The Cantor set in Definition \ref{def:CantorSet}
  is an intersection of closed set
  and thus it is closed.
  It is also bounded and thus
  by Theorem \ref{thm:seqCompactIsBoundedAndClosedInRn}
  it is sequentially compact.
\end{exm}

\subsection{In infinite-dimensional metric spaces}

\begin{exm}
  \label{exm:closedBallInC01}
  The closed unit ball in $({\cal C}[0,1], \|\cdot\|_{\infty})$
  \begin{equation}
    \label{eq:closedBallInC01}
    K:= \left\{f\in {\cal C}[0,1] :
      \|f\|_{\infty} \le 1 \right\}
  \end{equation}
  is closed and bounded,
  but not sequentially compact.
  Consider the hat function
  \begin{equation}
    \label{eq:hatFuncInt}
    B_n(x) = 
    \begin{cases}
      \frac{x-a_n}{b_n-a_n} & x\in [a_n, b_n],
      \\
      \frac{x-c_n}{b_n-c_n} & x\in [b_n, c_n],
      \\
      0 & \text{otherwise},
    \end{cases}
  \end{equation}
  where $a_n=1-\frac{1}{2^n}$, $c_n=a_{n+1}$,
  and $b_n=\frac{a_n+c_n}{2}$.
  Then the sequence $(B_n)_{n\in \mathbb{N}}$
  has no convergent subsequence.
\end{exm}

\begin{exm}
  \label{exm:closedBallInEll2}
  The closed unit ball in $\ell^2$, 
  \begin{equation}
    \label{eq:closedBallInEll2}
    K:= \left\{\mathbf{x}\in \ell^2 :
      \|\mathbf{x}\|_2 \le 1 \right\}, 
  \end{equation}
  is closed and bounded, but not sequentially compact.
  For
  \begin{displaymath}
    \mathbf{e}_n = (0,\cdots,0,1,0,\cdots)\in K \subset \ell^2
  \end{displaymath}
  where all terms are zero except that the $n$th term is 1, 
  the sequence $(\mathbf{e}_n)_{n\in \mathbb{N}^+}$
  has no convergent subsequence.
\end{exm}

\begin{lem}
  \label{lem:compactnessImpliesTotalBoundedness}
  Any sequentially compact set is totally bounded. 
\end{lem}

\begin{lem}
  \label{lem:seqCompactFromTotalBoundedness}
  In a complete metric space,
  a closed and totally bounded set $M$ is sequentially compact.
\end{lem}

\begin{exc}
  \label{exm:HilbertCube}
  Show that the \emph{Hilbert cube}
  in the metric space $\ell^2$, % $(\ell^2, \|\cdot\|_2)$, 
  \begin{equation}
    \label{eq:HilbertCube}
    C := \left\{
      (x_n)_{n\in \mathbb{N}^+}:\ x_n\in \left[0,\frac{1}{n}\right]
      \right\}, 
  \end{equation}
  is sequentially compact.
\end{exc}

\subsection{Generalizing
  the extreme value theorem \ref{thm:extremeValues}}
\label{sec:gener-extr-value}

\begin{lem}
  \label{lem:contFuncPreservesCompactness}
  Let $X,Y$ be metric spaces and
  let $K$ be a sequentially compact subset of $X$.
  If $f:X \rightarrow Y$ is continuous at each $x\in K$,
  then $f(K)$ is a sequentially compact subset of $Y$.
\end{lem}

\begin{thm}[Weierstrass]
  \label{thm:ExtremeValueThmGeneral}
  Suppose $K$ is a nonempty sequentially compact subset
  of a metric space ${\cal X}$
  and the function $f: {\cal X}\rightarrow \mathbb{R}$ is
  continuous at each $x\in K$.
  Then
  \begin{displaymath}
    \exists a,b\in K \text{ s.t. }
    \left\{
      \begin{array}{l}
        f(a) = \max\{f(x): x\in K\},
        \\
        f(b) = \min\{f(x): x\in K\}.
      \end{array}
      \right.
  \end{displaymath}
\end{thm}

\begin{exm}
  Since the set $K=\{\mathbf{x}\in \mathbb{R}^3: \|\mathbf{x}\|_2=1\}$
  is sequentially compact in $\mathbb{R}^3$ and the function
  $\mathbf{x}\mapsto \sum_{j=1}^3x_j$ is continuous,
  the optimization problem
  \begin{displaymath}
    \left\{
      \begin{array}{l}
        \text{minimize } \sum_{j=1}^3 x_j,
        \\
        \text{subject to } \|\mathbf{x}\|_2=1,
      \end{array}
    \right.
  \end{displaymath}
  has a minimizer.
\end{exm}

\subsection{Sequential compactness = compactness}
\label{sec:sequCompIsCompactness}

\begin{defn}
  A collection $\alpha$ of subsets of a metric space ${\cal X}$
   is said to \emph{cover} ${\cal X}$,
   or to be a \emph{covering} of ${\cal X}$,
   if the union of all elements of $\alpha$
   equals ${\cal X}$;
   it is an \emph{open covering} of ${\cal X}$
   if each element of $\alpha$ is an open subset of ${\cal X}$.
\end{defn}

\begin{defn}
  An \emph{(open) cover of a subset $K$ in a metric space} ${\cal X}$
   is a collection $\alpha$ of (open) subsets in ${\cal X}$
   such that $K \subset \cup \alpha$.
  A \emph{subcover} of $K$ is a subcollection of a cover
   that also covers $K$.
\end{defn}

\begin{exm}
  \label{exm:openCoverOfSubsets}
  Consider $K$ in (\ref{eq:K-Set})
   and ${\cal X}=K\cup\{0\}$.
  An open cover of $K$ in $\mathbb{R}$
   is $\{U_n: n\in \mathbb{N}^+\}$
   where
  \begin{displaymath}
    U_n=\left(\frac{1}{n}-\epsilon_n,
      \frac{1}{n}+\epsilon_n\right),\qquad
    \epsilon_n := \frac{1}{n(n+1)}; 
  \end{displaymath}
  elements of this open cover are pairwise disjoint
  for all $n>1$.
  An open cover of ${\cal X}$ in $\mathbb{R}$
   is $\{U_n: n\in \mathbb{N}^+\}\cup (-\epsilon, \epsilon)$
   with $\epsilon:= \frac{1}{N}$ for some $N\in \mathbb{N}^+$.
\end{exm}

\begin{defn}
  \label{def:compactness}
  A subset $K$ of a metric space ${\cal X}$ is \emph{compact}
  iff every open cover of $K$ contains a finite subcover.
\end{defn}

\begin{lem}
  \label{lem:compactImpliesClosed}
  A compact subset $M\subset {\cal X}$ is closed in ${\cal X}$.
\end{lem}

\begin{thm}
  \label{thm:compactIsSequCompact}
  A subset $K$ of a metric space ${\cal X}$ is compact
  if and only if it is sequentially compact. 
\end{thm}

\subsection{Generalizing
  the uniform continuity theorem
  \ref{thm:uniformContinuityScalarFunc}}
\label{sec:gener-unif-cont}

\begin{defn}
  \label{def:distancePoint2Set}
  In a metric space $({\cal X},d)$,
  the \emph{distance from a point $x\in{\cal X}$
    to a subset $A\subseteq {\cal X}$} is
  \begin{equation}
    \label{eq:distancePoint2Set}
    d(x,A) = \inf\{d(x,a): a\in A\}.
  \end{equation}
\end{defn}

\begin{lem}[Lebesgue number]
  \label{lem:lebesgueNumberExists}
  Let ${\cal A}$ be an open covering
  of the metric space $({\cal X},d)$. 
  If ${\cal X}$ is compact, we have
  \begin{equation}
    \label{eq:lebesgueNumberExists}
    \exists \delta>0 \text{ s.t. }
    \forall K\subset {\cal X},\
    \text{diam}(K)<\delta\ \Rightarrow\
    \exists A\in{\cal A} \text{ s.t. } K\subseteq A.
  \end{equation}
\end{lem}

\begin{defn}
  \label{def:lebesgueNumber}
  The number $\delta$ in (\ref{eq:lebesgueNumberExists})
  is called a \emph{Lebesgue number}
  of the open covering ${\cal A}$ for ${\cal X}$.
\end{defn}

\begin{thm}
  \label{thm:generalizedUniformContinuity}
  A continuous map $f:{\cal X}\rightarrow {\cal Y}$
  from a compact metric space ${\cal X}$
  to another metric space ${\cal Y}$
  is uniformly continuous.
\end{thm}

\subsection{Partition of unity in $\mathbb{R}^n$}
\label{sec:partition-unity}

\begin{lem}
  \label{lem:sandwichCompact}
  For a compact set $L$ of $\mathbb{R}^n$
  and an open set $U$ with $L\subset U$, 
  there exists an open set $V$ satisfying
  $L\subset V\subset \overline{V}\subset U$.
\end{lem}

\begin{lem}
  \label{lem:sandwichCompactSequence}
  For any compact set $K$ of $\mathbb{R}^n$
  and any finite open cover $\{U_i: i=1, \ldots, m\}$ of $K$, 
  there exists another open cover $\{V_i: i=1, \ldots, m\}$
  of $K$
  such that $\overline{V_i}$ is compact and
  $\overline{V_i}\subset U_i$ for each $i$.
\end{lem}

\begin{thm}
  \label{thm:openCoverForCompactSets}
  For any compact set $K$ of $\mathbb{R}^n$
  and any finite open cover $\{U_i: i=1, \ldots, m\}$ of $K$, 
  there exist a set of functions
  $\{f_i: %\mathbb{R}^n\rightarrow [0,1]\ |\
  i=1, \ldots, m\}$
  such that
  \begin{enumerate}[(a)]\itemsep0em
  \item $\forall i=1, \ldots, m$,
    $f_i\in {\cal C}(\mathbb{R}^n, [0,1])$; 
  \item $\forall i=1, \ldots, m$,
    $\Supp(f_i)\subset U_i$; 
  \item $\forall x\in K$, $\sum_{i=1}^m f_i(x)=1$, 
  \end{enumerate}
  where $\Supp(f_i)$ is the support of the function $f_i$
  in Definition \ref{def:support}.
\end{thm}

\begin{defn}
  \label{defn:partitionOfUnity}
  A \emph{partition of unity of a metric space ${\cal X}$}
  is a family of functions
  $\{f_i: i\in {\cal I}\}$ such that
  \begin{enumerate}[(a)]\itemsep0em
  \item $\forall i=1, \ldots, m$,
    $f_i\in {\cal C}({\cal X}, [0,1])$; 
  \item $\forall x\in {\cal X}$, 
    $\exists r>0$ s.t. 
    $\{f_i:\ i\in {\cal I};\, f_i(B_r(x))\ne \{0\}\}$
    is a finite set;
  \item $\forall x\in {\cal X}$, $\sum_{i\in{\cal I}} f_i(x)=1$, 
  \end{enumerate}
  where the index set ${\cal I}$ may be finite or infinite.
  This partition of unity is \emph{subordinate to an open cover}
  $\{U_i: i\in {\cal I}\}$ iff
  \begin{equation}
    \forall i\in{\cal I}, \exists j \in {\cal I} \text{ s.t. }
    \Supp(f_i)\subset U_j. 
  \end{equation}
\end{defn}

\begin{exm}
  \label{exm:B-splineAsPartOfUnity}
  The B-spline functions discussed in Section \ref{sec:B-Splines}
  is a partition of unity
  for any closed interval of $\mathbb{R}$,
  c.f. Corollary \ref{coro:partitionOfUnityBSplines}.
\end{exm}

\subsection{The Ascoli-Arzel\`{a} theorem}
\label{sec:ascoli-arzela-theor}

\begin{ntn}
  \label{ntn:setOfContinuousScalarFuncs}
  ${\cal C}^{k}(M)$
  denotes the set of $k$-times continuously differentiable functions
  $M\rightarrow \mathbb{F}$
  over a subset $M$ of a metric space where $\mathbb{F}=\mathbb{R}$
  or $\mathbb{F}=\mathbb{C}$.
  In particular, 
  ${\cal C}(M):={\cal C}^{0}(M)$
  contains all continuous functions over $M$.
  When necessary, we also write ${\cal C}^k(M,\mathbb{R})$
  or ${\cal C}^k(M,\mathbb{C})$
  to indicate the codomain of the functions. 
\end{ntn}

\begin{defn}
  \label{def:uniformBoundedSetInFuncMetricSpace}
  For a metric space ${\cal X}$, 
  a subset $F$ of ${\cal C}({\cal X})$ is \emph{uniformly bounded}
  iff
  \begin{equation}
    \label{eq:uniformBoundedSetInFuncMetricSpace}
    \exists M>0 \text{ s.t. }
    \forall x\in {\cal X},\ \forall f \in F,\ 
    |f(x)| \le M.
  \end{equation}
\end{defn}

\begin{lem}
  \label{lem:completeMetricSpaceForCompactSet}
  For a compact set $M$,
  the metric space ${\cal C}(M)$
  with the uniform metric is complete.
\end{lem}

\begin{thm}[Ascoli-Arzel\`{a}]
  \label{thm:Ascoli-Arzela}
  Denote by $M$ a compact metric space
  and $d$ the uniform metric. 
  A closed set ${\cal F}$ in the metric space $({\cal C}(M),d)$
  is sequentially compact
  if and only if ${\cal F}$ is uniformly bounded and equicontinuous. 
\end{thm}

\begin{exc}
  \label{exc:equiContInRn2Compact}
  Denote by $\Omega\subset \mathbb{R}^n$ a bounded open convex set.
  For $M_1,M_2\in\mathbb{R}^+$,
  show that the set
  \begin{equation}
    \label{eq:equiContInRn2Compact}
    {\cal F} := \left\{f\in {\cal C}^{(1)}(\overline{\Omega}) :
      \forall x\in \Omega,\ |f(x)|\le M_1;\, 
      \|\nabla f(x)\|\le M_2
    \right\}
  \end{equation}
  is sequentially compact.
\end{exc}

\section{Function sequences}
\label{sec:uniform-convergence}

\subsection{Pointwise convergence}

\begin{defn}[Limiting value of a function]
  \label{def:limitingValueOfAfunc}
  Let $({\cal X}, d_{{\cal X}})$
   and $({\cal Y}, d_{{\cal Y}})$ be metric spaces.
  Let $E$ be a subset of ${\cal X}$
   and $x_0\in {\cal X}$ be a limit point of $E$.
  A function $f:{\cal X}\rightarrow {\cal Y}$
   is said to \emph{converge} to $L\in {\cal Y}$
   as $x$ converges to $x_0\in E$,
   written
     $\lim_{x\rightarrow x_0; x\in E} f(x) = L$,
   iff
   \begin{align}
     \nonumber
     \forall \epsilon>0, &\exists \delta>0 \text{ s.t. }
     \forall x\in E,\ 
     \\      \label{eq:limitingValueOfAfuncCond}
     &\left|x-x_0\right|_{{\cal X}} < \delta
      \ \Rightarrow\ 
     \left|f(x)- L\right|_{{\cal Y}} < \epsilon.
   \end{align}
\end{defn}

\begin{defn}[Pointwise convergence]
  \label{def:pointwiseConvergence}
  A sequence $(f_n)_{n\in\mathbb{N}^+}$ of functions 
   between metric space $({\cal X}, d_{{\cal X}})$
   and $({\cal Y}, d_{{\cal Y}})$
   \emph{converges pointwise}
   to a function $f:{\cal X}\rightarrow{\cal Y}$ iff
   \begin{equation}
     \label{eq:pointwiseConvergence1}
     \forall x\in {\cal X},\qquad
     \lim_{n\rightarrow \infty} f_n(x) =  f(x),
   \end{equation}
   or, equivalently, 
   \begin{equation}
     \label{eq:pointwiseConvergence2}
     \forall \epsilon>0, 
      \forall x\in {\cal X},\ 
       \exists N\in \mathbb{N}^+ \text{ s.t. } \forall n>N,\ 
       \left|f_n(x)- f(x)\right|_{{\cal Y}} < \epsilon.
   \end{equation}
\end{defn}

\begin{exm}
  The function (\ref{eq:rationalVsIrr}) can be constructed
  as the limit of a double sequence, 
  \begin{equation}
    \label{eq:construcRatVsIrrat}
    f(x) := \lim_{m\rightarrow \infty} \lim_{n\rightarrow \infty}
    (\cos m!\pi x)^{2n}, 
  \end{equation}
  where $m,n\in \mathbb{N}$.
  Switching the order of the two limits 
  would result in $f$ being not well defined
  since the double limit would not even exist.
\end{exm}

\begin{exc}
  Show that the functions in (\ref{eq:construcRatVsIrrat})
  and (\ref{eq:rationalVsIrr}) are identical. 
\end{exc}

\begin{exm}
  \label{exm:pointwiseConvergencePreservesNoContinuity}
  Consider $f_n:[0,1]\rightarrow \mathbb{R}$
   defined by \mbox{$f_n(x) := x^n$}
   and $f:[0,1]\rightarrow \mathbb{R}$
   defined by 
   \begin{displaymath}
     f(x) :=
     \begin{cases}
       1 & \text{if } x=1;
       \\
       0 & \text{if } x\in [0,1).
     \end{cases}
   \end{displaymath}
  The functions $f_n$ are continuous
   and converge pointwise to $f$,
   which is discontinuous.
  Hence pointwise convergence
   does not preserve continuity.
\end{exm}

\begin{exm}
  \label{exm:pointwiseConvergencePreservesNoLimits}
  For functions
  in Example \ref{exm:pointwiseConvergencePreservesNoContinuity},
   we have \mbox{$\lim_{x\rightarrow 1; x\in [0,1)} x^n=1$} for all $n$
   and $\lim_{x\rightarrow 1; x\in [0,1)} f(x) =0$; 
   it follows that
   \begin{displaymath}
     \lim_{n\rightarrow\infty}\lim_{x\rightarrow x_0; x\in {\cal X}} f_n(x)
     \ne 
     \lim_{x\rightarrow x_0; x\in {\cal X}}\lim_{n\rightarrow\infty} f_n(x).
   \end{displaymath}
  Hence pointwise convergence does not preserve limits.
\end{exm}

\begin{exm}
  \label{exm:pointwiseConvergencePreservesNoIntegral}
  Consider the interval $[a,b]=[0,1]$,
  and the function sequence $f_n:[a,b]\rightarrow\mathbb{R}$
  given by
   \begin{displaymath}
     f_n(x) := 
     \begin{cases}
       2n & \text{if } x\in \left[\frac{1}{2n}, \frac{1}{n}\right];
       \\
       0  & \text{otherwise}.
     \end{cases}
   \end{displaymath}
  Then $(f_n)$ converges pointwise to $f(x)=0$.
  However, $\int_a^b f_n = 1$ for every $n$
   while $\int_a^b f = 0$. Hence
   \begin{displaymath}
     \lim_{n\rightarrow \infty} \int_{a}^b f_n
     \ne \int_a^b \lim_{n\rightarrow \infty} f_n.
   \end{displaymath}
  Hence pointwise convergence does not preserve integral.
\end{exm}

\begin{exm}
  \label{exm:pointwiseConvergencePreservesNoBoundedness}
  Pointwise convergence does not preserve boundedness.
  For example, the function sequence
  \begin{equation}
    \label{eq:choppedExp}
    f_n(x) =
    \begin{cases}
      \exp(x) & \text{if } \exp(x)\le n;
      \\
      n & \text{if } \exp(x)>n
    \end{cases}
  \end{equation}
  converges pointwise to $f(x)=\exp(x)$. % for any given $x$.
  Similarly, the function sequence
  \begin{equation}
    \label{eq:choppedReciprocal}
    f_n(x) =
    \begin{cases}
      \frac{1}{x} & \text{if } x \ge \frac{1}{n};
      \\
      0 & \text{if } x\in (0,\frac{1}{n})
    \end{cases}
  \end{equation}
  converges pointwise to $f(x)=\frac{1}{x}$.
  As another example, the function sequence 
  \begin{equation}
    \label{eq:nSin}
    f_n(x) = n\sin \frac{x}{n}
  \end{equation}
  converges pointwise to $f(x)=x$.
\end{exm}

\subsection{Uniform convergence} % comes to the rescue
\label{sec:uniformConvergence}

\begin{defn}[Uniform convergence]
  \label{def:uniformConvergence}
  Let $(f_n)_{n\in\mathbb{N}^+}$ be a sequence of functions
   between metric spaces $({\cal X}, d_{{\cal X}})$
   and $({\cal Y}, d_{{\cal Y}})$.
  We say that $(f_n)_{n\in\mathbb{N}^+}$ \emph{converges uniformly}
  to another function $f:{\cal X}\rightarrow{\cal Y}$
  on ${\cal X}$ iff
   \begin{equation}
     \label{eq:uniformConvergence}
     \forall \epsilon>0,\ 
     \exists N\in \mathbb{N}^+ \text{ s.t. }
     \forall x\in {\cal X}, \forall n>N, \ 
     \left|f_n(x)- f(x)\right|_{{\cal Y}} < \epsilon.
   \end{equation}
  The sequence $(f_n)$ is \emph{locally uniformly convergent} to $f$
   iff for every point $x\in {\cal X}$
   there is an $r>0$
   such that $(\left. f_n\right|_{B_r(x)\cap {\cal X}})$ is
   uniformly convergent to $f$ on $B_r(x)\cap {\cal X}$.
\end{defn}

\begin{exm}
  Consider $f_n:[0,1]\rightarrow \mathbb{R}$
   with $f_n(x):=\frac{x}{n}$.
  Then $(f_n)$ converges uniformly to $f(x)=0$.
\end{exm}

\begin{thm}
  \label{thm:funcConvergenceRelations}
  Uniform convergence implies local uniform convergence,
  which further implies pointwise convergence.
\end{thm}

\begin{exm}[Uniform convergence of Taylor series]
  \label{exm:uniformConvOfTaylorSeries}
  Consider the scalar function $f:\mathbb{R}\rightarrow\mathbb{R}$
   and the sequence of its Taylor polynomial
   $(T_n)_{n\in\mathbb{N}^+}$ in Definition \ref{def:TaylorPolynomial}.
  For any interval \mbox{$I_r:=(a-r,a+r)$},
  $(T_n)_{n\in\mathbb{N}^+}$ converges locally uniformly
  to $f|_{I_r}$ if $r$ is less or equal to the radius of convergence
  of $f$ at $a$.
  In particular,
  $(T_n)_{n\in\mathbb{N}^+}$ converges locally uniformly to $f$
  if the radius of convergence of $f$ is $+\infty$.
\end{exm}

\begin{exc}
  If the radius of convergence of $f$ in
  Example \ref{exm:uniformConvOfTaylorSeries} 
  is $+\infty$,
  does $(T_n)_{n\in\mathbb{N}^+}$ converge to $f$
  uniformly or locally uniformly?
\end{exc}

\subsubsection{Criteria}

\begin{thm}[Cauchy criterion]
  \label{thm:CauchyCriterionUniformConv}
  A sequence of functions $(f_n)_{n\in\mathbb{N}^+}$ 
  from a metric space ${\cal X}$
  to another complete metric space ${\cal Y}$
  converges uniformly if and only if
  \begin{equation}
    \label{eq:CauchyCriterionUniformConv}
    \begin{array}{l}
    \forall \epsilon>0,\ \exists N\in\mathbb{N} \text{ s.t. }
    \forall m,n > N,\
    d_{\cal Y}(f_n, f_m) < \epsilon, 
    \end{array}
  \end{equation}
  where $d_{\cal Y}$ is the uniform metric. 
\end{thm}

\begin{lem}
  \label{lem:pointwise2uniformConvergence}
  Suppose a sequence of functions $(f_n)_{n\in\mathbb{N}^+}$ 
  between metric spaces ${\cal X}$ and ${\cal Y}$
  converges pointwise to $f$. %$f:{\cal X}\rightarrow{\cal Y}$.
  Then $(f_n)_{n\in\mathbb{N}^+}$ converges
  uniformly to $f$ if and only if
  $\lim_{n\rightarrow \infty} M_n =0$
  where $M_n:=\sup_{x\in {\cal X}}|f_n(x)-f(x)|_{\cal Y}$.
\end{lem}

\subsubsection{Consequences}

\begin{lem}
  \label{lem:uniformConvergenceAndCont}
  Consider a uniformly convergent sequence of functions
  $(f_n)_{n\in\mathbb{N}^+}$  %: E\rightarrow {\cal Y}
  from a subset $E$ of a metric space ${\cal X}$
  to a complete metric space ${\cal Y}$. 
  If a limit point $x\in E$ satisfies
  \begin{equation}
    \label{eq:uniformConvergenceAndContCondition}
    \forall n\in\mathbb{N}^+, \exists y_n\in {\cal Y} \text{ s.t. }
    \lim_{t\rightarrow x}f_n(t) = y_n.
  \end{equation}
  Then $(y_n)_{n\in\mathbb{N}^+}$ converges in ${\cal Y}$
  and 
  \begin{equation}
    \label{eq:uniformConvergenceAndCont}
    \lim_{n\rightarrow\infty} \lim_{t\rightarrow x}f_n(t)
    = \lim_{t\rightarrow x}\lim_{n\rightarrow\infty}f_n(t).
  \end{equation}
\end{lem}

\begin{coro}
  \label{coro:uniformLimitIsCont}
  Suppose a sequence of continuous functions $(f_n)_{n\in\mathbb{N}^+}$ 
  defined on a subset $E$ of a metric space ${\cal X}$
  converges uniformly to $f$.
  Then $f$ is continuous on $E$.
\end{coro}

\begin{coro}
  \label{coro:CXisComplete}
  Denote by ${\cal C}({\cal X})$
  the set of all bounded continuous functions
  ${\cal X}\mapsto \mathbb{C}$
  where ${\cal X}$ is a metric space.
  Then the following is a complete metric space,
  \begin{equation}
    \label{eq:CXcomplete}
    ({\cal C}({\cal X}),d)\quad \text{ where }
    d(f,g)=\sup_{t\in {\cal X}}|f(t)-g(t)|. 
  \end{equation}
\end{coro}

\begin{thm}
  \label{thm:uniformConvAndIntegral}
  Suppose a sequence of scalar functions $(f_n)_{n\in\mathbb{N}^+}$
  converges uniformly to $f:[a,b]\rightarrow \mathbb{R}$.
  If each $f_n$ is Riemann integrable on $[a,b]$,
  then so is $f$. Furthermore, 
  \begin{equation}
    \label{eq:uniformConvAndIntegral}
    \int_a^bf = \lim_{n\rightarrow \infty} \int_a^bf_n. 
  \end{equation}
\end{thm}

\begin{thm}
  \label{thm:uniformConvergenceOfDerivatives}
  For a sequence of differentiable scalar functions $(f_n)$, 
  suppose that $(f_n(x_0))$ converges for some $x_0\in[a,b]$
  and $(f'_n)$ converges uniformly on $(a,b)$. 
  Then $(f_n)$ converges uniformly on $[a,b]$
  to a function $f: [a,b]\rightarrow \mathbb{R}$
  and
  \begin{equation}
    \label{eq:uniformConvergenceOfDerivatives}
    \forall x\in [a,b], \quad
    f'(x) = \lim_{n\rightarrow \infty} f'_n(x).
  \end{equation}
\end{thm}

\begin{exc}
  Give a different proof of Theorem
  \ref{thm:uniformConvergenceOfDerivatives}
  with the strengthened condition of
  each $f_n$ being \emph{continuously} differentiable. 
\end{exc}

\subsubsection{Compactness $\Rightarrow$ equicontinuity}

\begin{thm}
  \label{thm:uniformConvergenceAndCompact2EquiCont}
  For a compact metric space $K$,
  a uniformly convergent sequence of functions 
  $(f_n)_{n\in\mathbb{N}^+}\subset {\cal C}(K)$
  is equicontinuous on $K$. 
\end{thm}

\subsection{Pointwise and uniform boundedness}

\begin{defn}
  \label{eq:uniformlyBounded}
  Let $E$ be a subset of a metric space ${\cal X}$.
  A sequence of complex-valued functions $(f_n: E\rightarrow\mathbb{C})$  
  is \emph{pointwise bounded} on $E$
  if the sequence $(f_n(x))$ is bounded for any $x\in E$, i.e.,
  \begin{equation}
    \label{eq:pointwiseBounded}
    \exists \phi:E\rightarrow\mathbb{R}^+,\ \text{ s.t. } \forall x\in E,\
    \forall n\in\mathbb{N},\ |f_n(x)|<\phi(x);
  \end{equation}
  it is \emph{uniformly bounded} on $E$ iff
  \begin{equation}
    \label{eq:uniformlyBounded}
    \exists M\in \mathbb{R}^+,\ \text{ s.t. } \forall x\in E,\
    \forall n\in\mathbb{N},\ |f_n(x)|<M.
  \end{equation}
\end{defn}

\begin{exm}
  The function sequence $(f_n)\subset {\cal C}[0,1]$ given by
  \begin{displaymath}
    f_n(x)=\frac{x^2}{x^2+(1-nx)^2}
  \end{displaymath}
  is uniformly bounded because $|f_n(x)|\le 1$.
  Although $(f_n)$ converges pointwise to $\mathbf{0}$,
   no subsequence of $(f_n)$ can converge uniformly
   because $f_n(\frac{1}{n})=1$.
  Therefore, a uniformly bounded sequence of functions
   needs not to have a uniformly convergent subsequence.
\end{exm}

\begin{lem}
  \label{lem:pointwiseBoundedOnCountableSet}
  Any pointwise bounded function sequence $(f_n: E\rightarrow \mathbb{C})$
  over a countable set $E$ 
  has a subsequence $(f_{n_k})$
  such that $(f_{n_k}(x))$ converges for any $x\in E$. 
\end{lem}

\begin{thm}%[Ascoli]
  \label{thm:AscoliSequence}
  Suppose a scalar function sequence $(f_n)\subset {\cal C}(K)$
  over a compact set $K$ is pointwise bounded and equicontinuous.
  Then $(f_n)$ is uniformly bounded on $K$
  and contains a uniformly convergent subsequence.
\end{thm}

\subsection{The Stone-Weierstrass theorem}

\begin{defn}
  \label{def:algebraOfFuncs}
  An \emph{algebra of scalar functions} % complex-valued
  is a algebra ${\cal A}$ (as in Definition \ref{def:algebra})
  closed under addition, multiplication,
  and scalar multiplication, i.e.,
  \begin{equation}
    \label{eq:algebraOfFuncs}
    \forall f,g\in {\cal A}, \forall c\in\mathbb{C},\
    f+g\in{\cal A},\ fg\in {\cal A},\ cf\in{\cal A},
  \end{equation}
  where $fg$ is the multiplication of function values in $\mathbb{C}$.
\end{defn}

\begin{defn}
  \label{def:uniformClosedness}
  An algebra of scalar functions is \emph{uniformly closed}
  iff
  any sequence $(f_n)\subset {\cal A}$
  that is uniformly convergent
  converges to some $f\in {\cal A}$.
\end{defn}

\begin{defn}
  \label{def:uniformClosure}
  The \emph{uniform closure of an algebra ${\cal A}$ of scalar functions}
  is the set of all functions that are limits
  of uniformly convergent sequences of functions in ${\cal A}$.
\end{defn}

\begin{exm}
  The Weierstrass approximation theorem \ref{thm:WeierstrassApproximation}
  states that ${\cal C}([a,b],\mathbb{R})$
  is the uniform closure of the set of polynomials on $[a,b]$.
\end{exm}

\begin{lem}
  \label{lem:uniformClosureIsClosed}
  The uniform closure ${\cal B}$ of any algebra ${\cal A}$
  of bounded scalar functions is a uniformly closed algebra. 
\end{lem}

\begin{lem}
  \label{lem:polyConvergesToAbsX}
  For any interval $[-a,a]$
  there exists a sequence $(p_n)$ of real polynomials
  such that $p_n(0)=0$ and
  $(p_n)$ converges uniformly to $|x|$ on $[-a,a]$. 
\end{lem}

\begin{defn}
  \label{def:separatePoints}
  A set ${\cal A}$ of scalar functions over $E$
  is said to \emph{separate points} on $E$
  iff
  \begin{displaymath}
    \forall x_1,x_2\in E,\
    x_1\ne x_2\ \Rightarrow\
    \exists f\in{\cal A} \text{ s.t. }
    f(x_1)\ne f(x_2).
  \end{displaymath}
\end{defn}

\begin{exm}
  The set of all even polynomials 
  does not separate points on $[-1,1]$. 
\end{exm}

\begin{exm}
  \label{exm:complexTrigPolysNotSeparable}
  The algebra of continuous complex-valued
  periodic functions on $[-\pi, \pi]$
  does not separate points, 
  neither does that of complex-valued
  trinometric polynomials
  $\sum_{n=-N}^{+N} c_n e^{\ii nx}$:
  every function $f$ in question has
  $f(-\pi) = f(\pi)$. 
\end{exm}

\begin{defn}
  \label{def:vanishAtNoPoints}
  A set ${\cal A}$ of scalar functions on $E$
  is said to \emph{vanish at no point} of $E$ iff
  \begin{displaymath}
    \forall x\in E,\
    \exists f\in{\cal A} \text{ s.t. }
    f(x)\ne 0. 
  \end{displaymath}
\end{defn}

\begin{exm}
  The set of all polynomials %in one variable
  separate points on $E:=[-a,a]$
  and vanishes at no point of $E$ for any $a\in\mathbb{R}^+$.  
\end{exm}

\begin{lem}
  \label{lem:twoValsOfFuncAlgebra}
  Suppose an algebra ${\cal A}$ of scalar functions on $E$
  separates points on $E$ and vanishes at no point of $E$.
  Then we have
  \begin{displaymath}
    \forall x, y\in E\ %\text{ with } x\ne y,\
    \forall \xi, \eta \in \mathbb{F},\
    \exists f\in {\cal A} \text{ s.t. }
    f(x)=\xi,\ f(y)=\eta, 
  \end{displaymath}
  where $\mathbb{F}=\mathbb{R}$ or $\mathbb{C}$
  and $\xi=\eta$ if $x=y$. 
\end{lem}

\begin{lem}
  \label{lem:absMaxMinInFuncClosure}
  Suppose an algebra ${\cal A}$ of continuous scalar functions
  on a compact set $K$
  separates points on $K$ and vanishes at no point of $K$.
  For the uniform closure ${\cal B}$ of ${\cal A}$, 
  we have
  \begin{enumerate}[(a)]\itemsep0em
  \item $f\in{\cal B}$ $\Rightarrow$ $|f|\in {\cal B}$;
  \item $f,g\in{\cal B}$ $\Rightarrow$
    $\max(f,g)\in {\cal B}$ and $\min(f,g)\in {\cal B}$, 
  \end{enumerate}
  where $h=\max(f,g)$ is defined as
  \begin{equation}
    \label{eq:maxFG}
    h(x):=
    \begin{cases}
      f(x) & \text{if } f(x)\ge g(x);
      \\
      g(x) & \text{otherwise }
    \end{cases}
  \end{equation}
  and $\min(f,g)$ is defined similarly.
\end{lem}

\begin{thm}[Stone--Weierstrass]
  \label{thm:StoneWeierstrass}
  Suppose an algebra ${\cal A}$ of continuous real-valued functions
  on a compact set $K$
  separates points on $K$ and vanishes at no point of $K$.
  Then the uniform closure ${\cal B}$ of ${\cal A}$
  consists of all real continuous functions on $K$. 
  In other words, ${\cal B}={\cal C}(K, \mathbb{R})$
  and ${\cal A}$ is dense in ${\cal B}$.
\end{thm}

\begin{exc}
  Theorem \ref{thm:StoneWeierstrass}
  cannot be generalized directly to
  the set of continuous complex-valued functions.
  Denote by $\mathbb{S}^1$ the unit circle in the complex plane
  and ${\cal A}$ the algebra of all functions of the form
  $f(e^{\ii \theta}) = \sum_{n=0}^N c_n e^{\ii n\theta}$
  where $\theta\in \mathbb{R}$.
  Show that ${\cal A}$ separates points on $\mathbb{S}^1$,
  vanishes at no points of $\mathbb{S}^1$,
  but there still exists continuous functions
  $\mathbb{S}^1\rightarrow \mathbb{C}$
  that do not belong to the uniform closure of ${\cal A}$. 
\end{exc}

\begin{coro}
  \label{coro:StoneWeierstrass}
  Suppose an algebra ${\cal A}$ of continuous complex-valued functions
  on a compact set $K$
  separates points on $K$, vanishes at no point of $K$, 
  and is closed under complex conjugation, %i.e., 
  $\overline{f}(x):=\overline{f(x)}$. 
  Then the uniform closure ${\cal B}$ of ${\cal A}$
  consists of all complex continuous functions on $K$.
  In other words,
  ${\cal B}={\cal C}(K, \mathbb{C})$
  and ${\cal A}$ is dense in ${\cal B}$.
\end{coro}

\begin{exm}
  To fix the problem of complex trigonometric polynomials
  in Example \ref{exm:complexTrigPolysNotSeparable},
  we change their domain to $\mathbb{S}^1$
  parameterized by $e^{\ii \theta}$ with $\theta\in[0,2\pi)$.
  Then $\mathbb{S}^1$ is compact in $\mathbb{C}$. 
  The algebra of complex trigonometric polynomials
  restricted to $\mathbb{S}^1$ separates points, 
  vanishes at no points of $\mathbb{S}^1$,
  and thus by Corollary \ref{coro:StoneWeierstrass}
  is dense in the space of complex-valued continuous periodic functions.
\end{exm}

\begin{defn}
  \label{def:kCell}
  A \emph{$k$-cell} $I^k$ is a compact set in $\mathbb{R}^k$
  of the form
  \begin{equation}
    \label{eq:kCell}
    I^k = \{(x_1,\ldots, x_k): \forall i=1,\ldots,k,\ \ 
    x_i\in[a_i, b_i]\}. 
  \end{equation}
\end{defn}

\begin{lem}
  \label{lem:factoredFunc}
  Consider functions $f: I^k\rightarrow \mathbb{R}$
  satisfying
  \begin{equation}
    \label{eq:factoredFunc}
    \begin{array}{l}
      \exists f_i\in[a_i,b_i]\rightarrow \mathbb{R} \text{ s.t. }
      f(\mathbf{x}) = \prod_{i=1}^k f_i(x_i).
    \end{array}
  \end{equation}
  The set ${\cal A}$ of all finite sums of such functions
  form an algebra and is dense in ${\cal C}(I^k,\mathbb{R})$.
\end{lem}

\begin{coro}%[Fubini]
  \label{coro:FubiniOnKcell}
  For any continuous function $f: I^m\times I^n \rightarrow \mathbb{R}$,
  we have
  \begin{equation}
    \label{eq:FubiniOnKcell}
    \int_{I^m} \int_{I^n} f = \int_{I^n} \int_{I^m} f,
  \end{equation}
  where $\int_{I^n}$ denotes the Riemann integral
  over the $n$-cell $I^n$.
\end{coro}

%%% Local Variables:
%%% mode: latex
%%% TeX-master: "../numPDEs2cols"
%%% End:

